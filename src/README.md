# 文件管理器

一个基于HTML、CSS和JavaScript的现代化文件管理界面。

## 功能特点

✅ **选择文件夹** - 初始化时选择磁盘上的任意文件夹，自动记忆并在下次打开时自动加载  
✅ **添加文件** - 上传文件到当前文件夹，支持多文件选择  
✅ **创建文件夹** - 在当前目录下创建新的子文件夹  
✅ **文件夹导航** - 点击文件夹进入，使用返回按钮回到上级目录  
✅ **面包屑导航** - 清晰显示当前所在的目录路径  
✅ **文件预览** - 支持图片、文本、PDF、视频、音频等多种格式的在线预览  
✅ **文件下载** - 一键下载文件到本地  
✅ **文件定位** - 快速定位文件在磁盘中的位置  
✅ **文件重命名** - 在网页上直接重命名文件  
✅ **文件列表** - 显示当前文件夹中的所有文件和子文件夹，支持分页浏览和搜索功能  
✅ **删除操作** - 删除文件或文件夹（包括文件夹内所有内容）  
✅ **美观界面** - 现代化、响应式设计，文件夹高亮显示

## 使用方法

### 1. 打开应用

在支持的浏览器中打开 `index.html` 文件。

**支持的浏览器：**
- Chrome 86+
- Edge 86+
- Opera 72+

**注意：** Firefox 和 Safari 目前不支持 File System Access API。

### 2. 选择文件夹

点击 **"选择文件夹"** 按钮，选择您想要管理的文件夹。

**设置完整路径（推荐）：**
- 选择文件夹后，会弹出对话框帮助您设置完整磁盘路径
- **方法1（推荐）**：在文件资源管理器中复制路径 → 点击"从剪贴板粘贴"按钮
- **方法2**：系统会自动尝试从剪贴板读取路径
- **方法3**：手动输入路径，格式：`D:\04-XiangMu\03-ZiDongFangYuReact\web-defense`
- 设置后，所有路径显示都会使用完整磁盘路径（如：`D:\...\src\App.tsx`）
- 也可以点击"跳过"，只使用文件夹名称

**自动记忆功能：**
- 选择文件夹后，系统会自动记住您的选择和完整路径
- 刷新页面或下次打开时，会自动加载上次选择的文件夹
- 完整路径也会被记住，无需重新输入
- 如果浏览器已经授权过，刷新时会直接加载，无需重新授权
- 首次打开或权限过期时，会弹出权限请求，点击"允许"即可
- 如果需要更换文件夹，点击 **"清除记忆"** 按钮，然后重新选择

### 3. 创建和管理文件夹

**创建文件夹：**
- 点击 **"创建文件夹"** 按钮
- 输入文件夹名称
- 点击 **"创建"** 完成

**进入文件夹：**
- 点击文件夹名称或 **"打开"** 按钮
- 进入该文件夹后可以继续添加文件或创建子文件夹

**返回上级：**
- 点击 **"返回上级"** 按钮（在导航栏左侧）
- 或查看面包屑导航了解当前位置

### 4. 添加文件

- 点击 **"添加文件"** 按钮
- 选择一个或多个文件
- 文件将自动上传到当前所在的文件夹中

### 5. 管理文件和文件夹

**预览文件：**
- 点击文件旁边的 **"预览"** 按钮
- 在弹出窗口中查看文件内容
- 支持的格式：
  - 图片：jpg, jpeg, png, gif, bmp, webp, svg
  - 文本：txt, js, css, html, json, xml, md, csv, log, py, java, cpp, ts, jsx, tsx, vue, php, go 等
  - PDF文档
  - 视频：mp4, webm, ogg, avi, mov
  - 音频：mp3, wav, ogg, m4a, aac

**重命名：**
- 点击文件或文件夹旁边的 **"重命名"** 按钮
- 输入新的名称
- 点击 **"确认"**
- 注意：文件夹重命名功能暂未完全实现

**删除：**
- 点击文件或文件夹旁边的 **"删除"** 按钮
- 确认删除操作
- ⚠️ 删除文件夹时，其中的所有文件和子文件夹也将被删除！

**路径显示：**
- 当前文件夹路径显示在顶部
- 每个文件和文件夹都显示其完整磁盘路径
- 路径格式：`D:\文件夹\子文件夹\文件名`

**定位功能：**
- 点击青色 📍 **"定位"** 按钮
- 路径会自动复制到剪贴板
- 按照提示在文件管理器中打开：
  1. 按 `Win+E` 打开文件管理器
  2. 按 `Ctrl+L` 或点击地址栏
  3. 按 `Ctrl+V` 粘贴路径
  4. 按 `Enter` 打开文件夹/定位到文件

**下载功能：**
- 点击绿色 💾 **"下载"** 按钮
- 文件会下载到浏览器默认下载文件夹
- 支持所有文件类型
- 下载后可以在本地用默认程序打开

**搜索功能（递归搜索）：**
- 在搜索框中输入关键词
- 点击 **"搜索"** 按钮或按 **回车键** 执行搜索
- 搜索会递归检索当前文件夹及所有子文件夹
- 点击 **"重置"** 按钮清除搜索，显示当前文件夹内容
- 搜索结果会显示匹配的文件和文件夹数量及其路径
- 搜索不区分大小写，支持部分匹配

**清空本页：**
- 点击红色 **"清空本页"** 按钮
- 会删除当前页显示的所有文件和文件夹
- 删除前会显示确认对话框，显示要删除的项目数量
- 适用于批量清理文件
- ⚠️ 此操作不可恢复，请谨慎使用

**分页浏览：**
- 文件超过设定数量时，自动显示分页控件
- 可选择每页显示 10/20/50/100 项
- 使用 **首页、上一页、下一页、末页** 按钮快速导航
- 显示当前页码和总页数
- 切换文件夹或修改每页项数时自动重置到第一页
- 搜索结果也支持分页显示

## 技术说明

本应用使用了以下技术：

- **HTML5** - 页面结构
- **CSS3** - 现代化样式和动画效果
- **JavaScript (ES6+)** - 核心功能逻辑
- **File System Access API** - 文件系统访问

## 安全说明

- 应用需要用户明确授权才能访问文件系统
- 仅能访问用户选择的文件夹
- 所有操作都在本地进行，不会上传到服务器

## 文件说明

```
├── index.html   # 主页面文件
├── style.css    # 样式文件
└── script.js    # JavaScript逻辑文件
```

## 浏览器兼容性

此应用使用了 File System Access API，需要现代浏览器支持：

| 浏览器 | 版本要求 | 支持状态 |
|--------|----------|----------|
| Chrome | 86+ | ✅ 支持 |
| Edge | 86+ | ✅ 支持 |
| Opera | 72+ | ✅ 支持 |
| Firefox | - | ❌ 不支持 |
| Safari | - | ❌ 不支持 |

## 许可证

MIT License

